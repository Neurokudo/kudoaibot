# üéâ KudoAiBot - –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
KudoAiBot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–∞—Ä–∏—Ñ—ã, —Ü–µ–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ db/              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (users, subscriptions, transactions)
‚îÇ   ‚îú‚îÄ‚îÄ services/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (billing, balance_manager)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ clients/     # AI –∫–ª–∏–µ–Ω—Ç—ã (Veo 3, Virtual Try-On)
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã (–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ main.py              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ translations.py      # –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (5 —è–∑—ã–∫–æ–≤)
‚îú‚îÄ‚îÄ examples.py          # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤
‚îî‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ª—É—á—à–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏–∑ –¥–≤—É—Ö –±–æ—Ç–æ–≤

**–ò–∑ SORA 2:**
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏ (ru, en, es, ar, hi)
- ‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –ø—Ä–∏–º–µ—Ä—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥

**–ò–∑ babka-bot-clean:**
- ‚úÖ Veo 3 –∫–ª–∏–µ–Ω—Ç (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ)
- ‚úÖ Virtual Try-On –∫–ª–∏–µ–Ω—Ç (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è)
- ‚úÖ –ü—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–æ–∫
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 3. –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–æ–∫

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º
- `subscriptions` - –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ 30 –¥–Ω–µ–π
- `transactions` - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- `generations` - –∏—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- `payments` - –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ YooKassa

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –¢—Ä–∏ —Ç–∞—Ä–∏—Ñ–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–õ–∞–π—Ç, –°—Ç–∞–Ω–¥–∞—Ä—Ç, –ü—Ä–æ)
- ‚úÖ –ü–∞–∫–µ—Ç—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å –±–æ–Ω—É—Å–∞–º–∏
- ‚úÖ –ú–æ–Ω–µ—Ç–∫–∏ –Ω–µ —Å–≥–æ—Ä–∞—é—Ç –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫

### 4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–ª–∞—Ç–µ–∂–∏

**YooKassa:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π
- ‚úÖ Webhook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 5. –î–æ–±–∞–≤–ª–µ–Ω—ã AI —Ñ—É–Ω–∫—Ü–∏–∏

**Veo 3 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ):**
- ‚úÖ –í–∏–¥–µ–æ 6-8 —Å–µ–∫—É–Ω–¥
- ‚úÖ –° –∑–≤—É–∫–æ–º –∏ –±–µ–∑
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (9:16, 16:9, 1:1)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ ffmpeg

**Virtual Try-On (–ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è):**
- ‚úÖ –ü—Ä–∏–º–µ—Ä–∫–∞ –æ–¥–µ–∂–¥—ã –Ω–∞ —Ñ–æ—Ç–æ
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ Batch-—Ä–µ–∂–∏–º (3 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üí∞ –°–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### –¢–∞—Ä–∏—Ñ—ã (30 –¥–Ω–µ–π)
| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –ú–æ–Ω–µ—Ç–æ–∫ |
|-------|------|---------|
| ‚ú® –õ–∞–π—Ç | 1990 ‚ÇΩ | 250 |
| ‚≠ê –°—Ç–∞–Ω–¥–∞—Ä—Ç | 2990 ‚ÇΩ | 400 |
| üíé –ü—Ä–æ | 4990 ‚ÇΩ | 750 |

### –°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π
- üé¨ –í–∏–¥–µ–æ 8 —Å–µ–∫ –±–µ–∑ –∑–≤—É–∫–∞: 18 –º–æ–Ω–µ—Ç–æ–∫
- üé¨ –í–∏–¥–µ–æ 8 —Å–µ–∫ —Å–æ –∑–≤—É–∫–æ–º: 26 –º–æ–Ω–µ—Ç–æ–∫
- üëó –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∏–º–µ—Ä–æ—á–Ω–∞—è: 3 –º–æ–Ω–µ—Ç–∫–∏
- üì∏ –§–æ—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏: 1 –º–æ–Ω–µ—Ç–∫–∞

### –ü–∞–∫–µ—Ç—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è
- 50 –º–æ–Ω–µ—Ç–æ–∫: 990 ‚ÇΩ
- 120 (+10) –º–æ–Ω–µ—Ç–æ–∫: 1990 ‚ÇΩ
- 250 (+30) –º–æ–Ω–µ—Ç–æ–∫: 3990 ‚ÇΩ
- 500 (+75) –º–æ–Ω–µ—Ç–æ–∫: 7490 ‚ÇΩ

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd ~/Desktop/KudoAiBot
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–ª—é—á–∏
```

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
# Webhook (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
export TELEGRAM_MODE=webhook
python main.py

# Polling (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
export TELEGRAM_MODE=polling
python main.py
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 24  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~3500  
**–¢–∞–±–ª–∏—Ü –≤ –ë–î:** 5  
**–§—É–Ω–∫—Ü–∏–π AI:** 2 (Veo 3, Virtual Try-On)  
**–Ø–∑—ã–∫–æ–≤:** 5  
**–¢–∞—Ä–∏—Ñ–æ–≤:** 3  
**–ü–∞–∫–µ—Ç–æ–≤ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:** 4  

## üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ Async/await –≤–µ–∑–¥–µ
- ‚úÖ Connection pooling –¥–ª—è –ë–î
- ‚úÖ Graceful shutdown

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- ‚úÖ Idempotency –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ Stateless bot instances
- ‚úÖ PostgreSQL —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ Background tasks
- ‚úÖ Rate limiting
- ‚úÖ Retry logic

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/COINS_SYSTEM.md` - –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–æ–∫
- `docs/ARCHITECTURE.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `.env.example` - –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ë–æ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤** –∫ –∑–∞–ø—É—Å–∫—É! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:
1. –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏ API –≤ `.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

## üí° –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### –í –±—É–¥—É—â–µ–º
- [ ] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã
- [ ] –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ–º–æ–∫–æ–¥—ã
- [ ] –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ –∫–∞—Ä—Ç—ã
- [ ] Redis –¥–ª—è –∫–µ—à–∞
- [ ] –û—á–µ—Ä–µ–¥–∏ –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- [ ] CDN –¥–ª—è –≤–∏–¥–µ–æ
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥—ã

## ü§ù –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –±–æ—Ç–æ–≤

**SORA 2:**
- –ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤
- –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞

**babka-bot-clean:**
- –ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–æ–∫
- –ü—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π –±–∏–ª–ª–∏–Ω–≥
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- AI –∫–ª–∏–µ–Ω—Ç—ã (Veo 3, Virtual Try-On)

**= KudoAiBot:**
- –õ—É—á—à–µ–µ –∏–∑ –æ–±–æ–∏—Ö –º–∏—Ä–æ–≤!

---

## üéä –ü–æ–∑–¥—Ä–∞–≤–ª—è—é!

–í—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–≥–æ –±–æ—Ç–∞ —Å:
- ‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π (–≤–∏–¥–µ–æ + —Ñ–æ—Ç–æ)
- ‚úÖ –°–∏—Å—Ç–µ–º–æ–π –æ–ø–ª–∞—Ç—ã (–º–æ–Ω–µ—Ç–∫–∏ + –ø–æ–¥–ø–∏—Å–∫–∏)
- ‚úÖ –ë–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)
- ‚úÖ –ü–ª–∞—Ç–µ–∂–∞–º–∏ (YooKassa)
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å—é (5 —è–∑—ã–∫–æ–≤)
- ‚úÖ –ü–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

**–ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

---

**–°–æ–∑–¥–∞–Ω–æ:** 20 –æ–∫—Ç—è–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
